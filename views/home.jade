html 
    head
        script(src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js")
        title Home
        link(rel='stylesheet', href='/stylesheets/home.css')
        meta(name="viewport" content="width=device-width, initial-scale=1.0")
    body 
        nav(class="nav")
                div(class="menu_group")
                    div(class="home")
                        a(href="./")
                            img(src="https://i.ibb.co/ZSJQwCr/home-page.pngg" alt="home" style="width:30px;height:30px;")
                    div(class="other")
                        a(id="1" href="./tutorList/") 튜터 찾기
                    div(class="other")
                        a(id="2" href="./post/") 질문/답변
                    div(class="other") 
                        a(id="3" href="./findPost/") 찾아요
                    div(class="other")
                        a(id="4" href="./tutoringList/") 멘토링 목록
                    div(class="other")
                        a(id="5" href="./requestList/") 받은 요청
                    div(class="other")
                        a(id="6" href="./sendList/") 보낸 요청
        div(class="mainHome")
            h4 Welcome
            div(class="mainPage")
                div(class="postPage")
                    div(class="MyPost")
                        h4 나의 질문 게시글
                        -if(post1!=null)
                            for item in post1
                                div(class="postList")
                                    div(id = "post #{item.id}" class="postNext" onClick="onPostDetail(this.id)")
                                        div(class="postTitle")
                                            h4 #{item.title}
                                        div(class="postContent")
                                            h4 #{item.content}
                                        div(class="postOwner_Count")
                                            div(class="postCount")
                                                h4 조회 수: #{item.count}
                                            div(class="postOwner")
                                                h4 작성자: #{item.nickname}
                    div(class="MyPost2")
                        h4 나의 찾아요 게시글
                        -if(post2!=null)
                            for item in post2
                                div(class="postList")
                                    div(id = "post2 #{item.id}" class="postNext" onClick="onPostDetail(this.id)")
                                        div(class="postTitle")
                                            h4 #{item.title}
                                        div(class="postContent")
                                            h4 #{item.content}
                                        div(class="postOwner_Count")
                                            div(class="postCount")
                                                h4 조회 수: #{item.count}
                                            div(class="postOwner")
                                                h4 작성자: #{item.nickname}
                div(class="listPage")
                    div(class="myTutoring")
                        h4 나의 튜터링 리스트
                        -if(tutoring!=null)
                            h4 #{tutoring[0].content}
        div(class="myProfile")
            img(src="https://ajoring.kr/"+"#{user.profileImage}" class="profileIcon")
            a(id="7" href="./myProfile/") 내 프로필
                
    
    script(type="text/javascript").
        const onPostDetail = (id) => {
            var post_id = id.split(' ')[1];
            var postType = id.split(' ')[0];
            if(postType=="post") {
                axios.get('https://ajoring.kr/post/updateCount',{
                        method : 'POST',
                        params: {
                            post_id : post_id
                        },
                        headers: {
                            'Content-Type': 'application/json',
                        },
                    }).then(response => {
                        console.log(response.data);
                    })
                document.location.href="./post/postDetail?post_id="+post_id;
            } else {
                axios.get('https://ajoring.kr/findPost/updateCount',{
                        method : 'POST',
                        params: {
                            post_id : post_id
                        },
                        headers: {
                            'Content-Type': 'application/json',
                        },
                    }).then(response => {
                        console.log(response.data);
                    })
                document.location.href="./findPost/postDetail?post_id="+post_id;
            }
        }
        const testTrans = () => {
            var lang = "#{user.country}"
            if(lang=="China") {
               var text = document.querySelector('div.menu_group').innerText;
               var text2 = document.querySelector('div.myProfile a').innerText;
               console.log(text);
                axios.get('https://ajoring.kr/translate',{
                    method: 'POST',
                    params: {
                        target : 'zh-CN',
                        text : text +'\n' + text2
                    },
                    headers: {
                        'Content-Type': 'application/json',
                    },
                }).then(response=> {
                    var list = response.data.message.result.translatedText.split('\n');
                    console.log(list);
                    for(var i = 1; i<= 7; i++) {
                        document.getElementById(i).textContent = list[i-1];
                    }
                })
            }  else if(lang=="Vietnam") {
                var text = document.querySelector('div.menu_group').innerText;
                var text2 = document.querySelector('div.myProfile a').innerText;
                    axios.get('https://ajoring.kr/translate',{
                        method: 'POST',
                        params: {
                            target : 'vi',
                            text : text +'\n' + text2
                        },
                        headers: {
                            'Content-Type': 'application/json',
                        },
                    }).then(response=> {
                        var list = response.data.message.result.translatedText.split('\n');
                        for(var i = 1; i<= 7; i++) {
                            document.getElementById(i).textContent = list[i-1];
                        }
                    })
            }
        }
        testTrans();
            

    